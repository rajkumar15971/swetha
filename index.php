<!DOCTYPE html>
<html>
<head>
<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>HW3</title>
<style type="text/css">
table.new{
width:80%;
margin-left:auto;
margin-right:auto;
text-align:left;
}
table.user{
width:80%;
margin-left:auto;
margin-right:auto;
text-align:left;
}
ul{
list-style:none;
}
select {
padding:3px;
margin: 0;
-webkit-border-radius:4px;
-moz-border-radius:4px;
border-radius:4px;
//-webkit-box-shadow: 0 3px 0 #ccc, 0 -1px #fff inset;
//-moz-box-shadow: 0 3px 0 #ccc, 0 -1px #fff inset;
//box-shadow: 0 3px 0 #ccc, 0 -1px #fff inset;
background:#ccc;
color:#595959;
border:none;
outline:none;
display: inline-block;
-webkit-appearance:none;
-moz-appearance:none;
appearance:none;
cursor:pointer;
}
input[type=submit] {
width:30%;
padding:5px 15px;
background:#ccc;
font-weight:bold;
border:0 none;
cursor:pointer;
-webkit-border-radius: 5px;
border-radius: 5px;
}
input[type=submit]:hover {
background-color:yellow;
}
@media screen and (-webkit-min-device-pixel-ratio:0) {
}
label{position:relative}
label:after {content:'<>';font:11px "Consolas", monospace;color:#aaa;-webkit-transform:rotate(90deg);-moz-transform:rotate(90deg);-ms-transform:rotate(90deg);transform:rotate(90deg);right:8px; top:2px;padding:0 0 2px;border-bottom:1px solid #ddd;position:absolute;pointer-events:none;
}
label:before {content:'';right:6px; top:0px;width:20px; height:20px;background#ccc;position:absolute;pointer-events:none;display:block;
}
select:hover{
background-color:white;
}
h1{
text-align:center;
}
body{
font-family: 'Open Sans', sans-serif;
font-weight:bold;
font-size:14px;
}
.small{
font-size:11px;
}
td{
height: 40px;
}
input.new, select{
width: 250px;
}
#cont{
display:block;
margin-left:auto;
margin-right:auto;
background-color:#737373;
width:50%;
color:white;
}
#container{
width:50%;
display:block;
text-align:center;
margin-left:auto;
margin-right:auto;
}
#container1{
width:800px;
display:block;
text-align:left;
margin-left:auto;
margin-right:auto;
}
.line{
margin-left:auto;
margin-right:auto;
display:block;
width:70%;
border-bottom:3px solid #d9d9d9;
}
</style>
</head>
<body>
<div id="cont">
<h1><u>Form with WebSQL and HTML Verification</u></h1>
<br>
<br>
<div id="container">
<table>
<tr>
<td><img src="pdf.png" width=75 height=75></td><td colspan=3>
Please fill out the form below to begin downloading.</td></tr></table></div>
<br>
<div class="line"></div>
<br>
<br>
<form>
<table class="new">
<tr>
<td>First Name: *</td>
<td><input class="new" name="fname" id="fname" type="text" required></td>
<td>Company: *</td>
<td><input class="new" name="company" id="company" type="text" required></td>
</tr>
<tr>
<td>Last Name: *</td>
<td><input class="new" name="lname" id="lname" type="text" required></td>
<td>Website: *</td>
<td><input class="new" name="website" id="website" type="url" required placeholder="http://example.com"></td>
</tr>
<tr>
<td>E-Mail: *</td>
<td><input class="new" name="email" id="email" type="email" required placeholder="Enter a valid email address"></td>
<td>Position:</td>
<td><label><select name="position" id="position">
<option value="" selected="selected">-- Select One</option>
<option name="Business">Business</option>
<option name="Health">Health</option>
<option name="Science">Science</option>
<option name="Education">Education</option>
<option name="Finance">Finance</option>
<option name="Consumer">Consumer</option>
</select></label></td>
</tr>
<tr>
<td>Password:</td>
<td><input class="new" name="password" id="password" type="password"></td>
<td>Phone: *</td>
<td><input class="new" name="phone" id="phone" type="number" required placeholder="Enter a valid phone number"></td>
</tr>
<tr>
<td></td>
<td class="small" colspan=3>* Setting a password will allow you to log back in and see our documents at any point of time.</td>
<tr>
</table>
<br>
<div class="line"></div>
<div id="container1">
<br>
<br>
PRIMARY service or product of interest: *<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label><select name="primary" id="primary" required>
<option value="" selected="selected">-- Select One</option>
<option name="Personal">Personal</option>
<option name="Business">Business</option>
<option name="Health">Health</option>
<option name="Science">Science</option>
<option name="Education">Education</option>
<option name="Finance">Finance</option>
<option name="Consumer">Consumer</option>
</select></label><br><br>
OTHER services or product of interest:
<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="other1" id="other1" value="Online Strategy">Online Strategy
<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="other2" id="other2" value="Web Design and Devlopment
">Web Design and Devlopment
<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="other3" id="other3" value="Socail Networking and Online Community">Socail Networking and Online Community
<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="other4" id="other4" value="Intergrated Online Campaigns">Intergrated Online Campaigns
<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="other5" id="other5" value="E-mail Marketing Services (Strategy, Design, Devlopment)">E-mail Marketing Services (Strategy, Design, Devlopment)
<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="other6" id="other6" value="E-mail Marketing Software">E-mail Marketing Software
</div>
<br>
<br>
<br>
<div class="line"></div>
<br>
<br>
<div id="container1">
When are you looking to implement a solution? *<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<label><select name="time" id="time" required>
<option value="" selected="selected">-- Select One</option>
<option name="today">Today</option>
<option name="tomorrow">Tomorrow</option>
<option name="this week">This Week</option>
<option name="this month">This Month</option>
<option name="this year">This Year</option>
<option name="never">Never</option>
</select></label><br><br>
</div>
<br>
<br>
<div class="line"></div>
<br>
<br>
<div id="container1">
YES! Subscribe to the weekly news letter from our website
<br><br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<input type="checkbox" name="subscribe" id="subscribe" class="chkbx">Receive feature and best practice articles on e-mail marketing,interactive design and online strategy.
<br><br>
</div>
<div align=center>
<br><br>
<input type="submit" value="Save" onclick="adduser();">
</div>
</form>
<br>
<br>
<div class="line"></div>
<br>
<br>
<div align="center" id="userlistholder">
<h1><u>Your Users</U></h1><br>
<table class="user" style="border: 1px solid white; " id="userlist"></table>
</div>
<pre>
</pre>
<script type="text/javascript">
/*
function insertdb()
{
var fname,lname,email,passwd,comp,web,pos,phone,prod,time,sub,sub1,o1,o2,o3,o4,o5,o6,other;
fname=document.getElementById("fname").value;
//alert(fname);
lname=document.getElementById("lname").value;
//alert(lname);
pos=document.getElementById("position").value;
//alert(pos);
email=document.getElementById("email").value;
//alert(email);
comp=document.getElementById("company").value;
//alert(comp);
passwd=document.getElementById("password").value;
//alert(passwd);
web=document.getElementById("website").value;
//alert(web);
phone=document.getElementById("phone").value;
//alert(phone);
prod=document.getElementById("primary").value;
//alert(prod);
time=document.getElementById("time").value;
//alert(time);
sub=document.getElementById("subscribe");
if(sub.checked)
sub1="yes";
else
sub1="no";
//alert(sub1);
var noval="";
o1=document.getElementById("other1");
o2=document.getElementById("other2");
o3=document.getElementById("other3");
o4=document.getElementById("other4");
o5=document.getElementById("other5");
o6=document.getElementById("other6");
other="";
if(o1.checked)
other+=(document.getElementById("other1").value + ".\n");
//alert(other);
if(o2.checked)
other+=(document.getElementById("other2").value + ".\n");
//alert(other);
if(o3.checked)
other+=(document.getElementById("other3").value + ".\n");
//alert(other);
if(o4.checked)
other+=(document.getElementById("other4").value + ".\n");
//alert(other);
if(o5.checked)
other+=(document.getElementById("other5").value + ".\n");
//alert(other);
if(o6.checked)
other+=(document.getElementById("other6").value + ".\n");
//alert(other);
var db = openDatabase('infodb', '1.0', 'User Info', 2 * 1024 * 1024);
var msg;
db.transaction(function (tx) {
tx.executeSql('CREATE TABLE IF NOT EXISTS INFO (FirstName VARCHAR(50) NOT NULL , LastName VARCHAR(50) NOT NULL , Company VARCHAR(50) NOT NULL , Email VARCHAR(50) NOT NULL , Website VARCHAR(50) NOT NULL , Position VARCHAR(50) NULL , Password VARCHAR(50) NOT NULL , Phone VARCHAR(50) NOT NULL , Product VARCHAR(50) NOT NULL , OtherServices TEXT NULL , Time VARCHAR(50) NOT NULL , Subscribe VARCHAR(50) NULL , ID INT NOT NULL AUTO_INCREMENT , PRIMARY KEY (ID))');
tx.executeSql('INSERT INTO INFO (FirstName, LastName, Company, Email, Website, Position, Password, Phone, Product, OtherServices, Time, Subscribe) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)'),[fname,lname,comp,email,web,pos,passwd,phone,prod,other,time,sub1];
msg = '<p>Log message created and row inserted.</p>';
alert(msg);
document.querySelector('#status').innerHTML = msg;
});
db.transaction(function (tx) {
tx.executeSql('SELECT * FROM INFO', [], function (tx, results) {
var len = results.rows.length, i;
msg = "<p>Found rows: " + len + "</p>";
document.querySelector('#status').innerHTML += msg;
for (i = 0; i < len; i++){
msg = "<p><b>" + results.rows.item(i).log + "</b></p>";
alert(msg);
document.querySelector('#status').innerHTML += msg;
}
}, null);
});
db.transaction(function (tx) {
tx.executeSql('CREATE TABLE IF NOT EXISTS info ( FirstName VARCHAR(50) NOT NULL , LastName VARCHAR(50) NOT NULL , Company VARCHAR(50) NOT NULL , Email VARCHAR(50) NOT NULL , Website VARCHAR(50) NOT NULL , Position VARCHAR(50) NULL , Password VARCHAR(50) NOT NULL , Phone VARCHAR(50) NOT NULL , Product VARCHAR(50) NOT NULL , OtherServices TEXT NULL , Time VARCHAR(50) NOT NULL , Subscribe VARCHAR(50) NULL , ID INT NOT NULL AUTO_INCREMENT , PRIMARY KEY (ID))');
alert("created");
tx.executeSql('INSERT INTO info (FirstName, LastName, Company, Email, Website, Position, Password, Phone, Product, OtherServices, Time, Subscribe, ID) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,'')',[fname,lname,comp,email,web,pos,passwd,phone,prod,other,time,sub1] );
alert("inserted");
tx.executeSql('SELECT * FROM info', [], function (tx, results) {
var length1 = results.rows.length, i;
for (i = 0; i < length1; i++) {
alert(results.rows.item(i).text);
}
});
});
alert("end");
}
*/
if (window.openDatabase) {
var mydb = openDatabase("users_db", "0.1", "A Database of users", 2 * 1024 * 1024);
mydb.transaction(function (t) {
//t.executeSql("DROP TABLE IF EXISTS users");});
t.executeSql("CREATE TABLE IF NOT EXISTS users (id INTEGER PRIMARY KEY ASC, FirstName TEXT, LastName TEXT, Company TEXT, Email TEXT, Website TEXT, Position TEXT, Password TEXT, Phone TEXT, Product TEXT, OtherServices TEXT, Time TEXT, Subscribe TEXT)");
});
} else {
alert("WebSQL is not supported by your browser!");
}
function updateuserList(transaction, results) {
var listitems = "";
var listholder = document.getElementById("userlist");
listholder.innerHTML = "";
var i; for (i = 0; i < results.rows.length; i++) {
var row = results.rows.item(i);
listholder.innerHTML += "<tr><td> User ID </td><td>:</td><td>" + row.id +"</td><td><button onclick='deleteuser(" + row.id + ");'>Delete user</Button></td></tr>" + "<tr><td> First Name </td><td>:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>" + row.FirstName + "<tr><td> Last Name </td><td>:</td><td>" + row.LastName + "</td></tr><tr><td> Company </td><td>:</td><td>" + row.Company + "</td></tr><tr><td> Website </td><td>:</td><td>" + row.Website + "</td></tr><tr><td> E-mail </td><td>:</td><td>" + row.Email + "</td></tr><tr><td> Position </td><td>:</td><td>" + row.Position +"</td></tr><tr><td> Password </td><td>:</td><td>" + row.Password + "</td></tr><tr><td> Phone </td><td>:</td><td>" + row.Phone +"</td></tr><tr><td> Product </td><td>:</td><td>" + row.Product + "</td></tr><tr><td> Other Services&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</td><td>:</td><td>" + row.OtherServices +"</td></tr><tr><td> Time </td><td>:</td><td>" + row.Time + " </td></tr><tr><td> Subscription </td><td>:</td><td>" + row.Subscribe + "</td></tr>"+"<tr><td>_________________________</td><td>_______</td><td>________________________________________________________________________</td><td>_____________</td><tr>";
}
}
function outputusers() {
if (mydb) {
mydb.transaction(function (t) {
t.executeSql("SELECT * FROM users", [], updateuserList);
});
} else {
alert("db not found, your browser does not support web sql!");
}
}
function adduser() {
if (mydb) {
var fname,lname,email,passwd,comp,web,pos,phone,prod,time,sub,sub1,o1,o2,o3,o4,o5,o6,other;
fname=document.getElementById("fname").value;
//alert(fname);
lname=document.getElementById("lname").value;
//alert(lname);
pos=document.getElementById("position").value;
//alert(pos);
email=document.getElementById("email").value;
//alert(email);
comp=document.getElementById("company").value;
//alert(comp);
passwd=document.getElementById("password").value;
//alert(passwd);
web=document.getElementById("website").value;
//alert(web);
phone=document.getElementById("phone").value;
//alert(phone);
prod=document.getElementById("primary").value;
//alert(prod);
time=document.getElementById("time").value;
//alert(time);
sub=document.getElementById("subscribe");
if(sub.checked)
sub1="yes";
else
sub1="no";
//alert(sub1);
var noval="";
o1=document.getElementById("other1");
o2=document.getElementById("other2");
o3=document.getElementById("other3");
o4=document.getElementById("other4");
o5=document.getElementById("other5");
o6=document.getElementById("other6");
other="";
if(o1.checked)
other+=(document.getElementById("other1").value + ".\n");
//alert(other);
if(o2.checked)
other+=(document.getElementById("other2").value + ".\n");
//alert(other);
if(o3.checked)
other+=(document.getElementById("other3").value + ".\n");
//alert(other);
if(o4.checked)
other+=(document.getElementById("other4").value + ".\n");
//alert(other);
if(o5.checked)
other+=(document.getElementById("other5").value + ".\n");
//alert(other);
if(o6.checked)
other+=(document.getElementById("other6").value + ".\n");
//alert(other);
if (fname !== "" && lname !== "") {
mydb.transaction(function (t) {
t.executeSql("INSERT INTO users (FirstName, LastName, Company, Email, Website, Position, Password, Phone, Product, OtherServices, Time, Subscribe) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?)", [fname,lname,comp,email,web,pos,passwd,phone,prod,other,time,sub1]);
outputusers();
});
} else {
//alert("You must enter a fname and lname!");
}
} else {
alert("db not found, your browser does not support web sql!");
}
}
function deleteuser(id) {
if (mydb) {
mydb.transaction(function (t) {
t.executeSql("DELETE FROM users WHERE id=?", [id], outputusers);
});
} else {
alert("db not found, your browser does not support web sql!");
}
}
outputusers();
</script>
</body>
</html>